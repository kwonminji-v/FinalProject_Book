
# 회원 상세 기능 (재원)


1. 회원가입
1) 아이디, 닉네임, 이메일은 유일하게 설정하여 중복 검사를 진행 
2) 아이디는 최소 6글자에서 12글자, 특수문자 허용하지 않는다. 비밀번호는 최소 8글자에서 15글자, 숫자 영문자 & 특수문자가 반드시 들어가야 한다. 
     닉네임은 특수문자 제외 4~20글자, 이메일은 @Email로 진행, 나머지 항목들(주소, 전화번호 등) 또한 양식에 맞게 넣을 수 있도록 한다. 
3) 이메일 인증은 난수 10글자 이상으로 지정하여 사용자가 입력한 이메일로 전송하여 난수를 입력하면 인증이 가능하도록 한다. 
   인증 시간은 3분으로 주어지고 시간이 초과되면 인증코드가 자동으로 사라진다. 인증을 완료해도 사라진다.
4) 주소 API를 사용하여 주소를 직접 입력하는 것 보다 검색해서 입력할 수 있도록 한다.
5) 비밀번호는 BCrypt + salted를 활용하여 DB에 암호화해서 저장할 수 있도록 한다. 

	1-1. 유효성 검사
	• 데이터베이스에 존재하는 아이디를 입력한 채 회원가입 버튼을 누른 경우 "이미 사용중인 아이디입니다."의 메시지를 보여주기
	• 데이터베이스에 존재하는 이메일을 입력한 채 회원가입 버튼을 누른 경우 "이미 사용중인 이메일입니다."의 메시지를 보여주기
	• 데이터베이스에 존재하는 닉네임을 입력한 채 회원가입 버튼을 누른 경우 "이미 사용중인 닉네임입니다."의 메시지를 보여주기
	• 모든 검사가 통과되었다면 로그인 페이지로 이동시키기 

카멜케이스
userName / userId / password / nickname / userAddress / userAge / gender / userTel / userInterest


2. 회원탈퇴
1) 회원탈퇴시 유예기간을 지정하기 위해 DELETE_FLAG 컬럼과 DELETE_TIME을 지정한다. 
   회원탈퇴시 DELETE_FLAG가 0으로 설정하고 이때 탈퇴한 시간을 기록한다. 일정기간 이상 지날 시 테이블에서 완전 삭제한다.


3. 회원정보 수정
1) 회원정보 수정은 먼저 회원정보를 불러오는 뷰를 만들고 회원정보를 가져온다. 뷰에 회원정보 수정 버튼을 만들어 사용자가 클릭한 후 정보를 수정할 수 있도록 한다.
2) 회원정보 수정은 앞서서 비밀번호 인증을 먼저 수행하고 진행한다.


4. 회원권한 부여 및 인증
1) 회원가입을 통한 사용자와 관리자의 Role은 각각 USER, ADMIN으로 지정한다. 
2) USER 권한을 가진 사용자는 본인이 작성한 게시글이나 상품 장바구니, 구매등의 일반적인 서비스를 이용할 수 있다.
3) ADMIN 권한을 가진 사용자는 플랫폼의 모든 권한을 위임받는다.
4) 인증 절차는 JWT 활용한다. 인증된 access토큰과 refresh토큰 두 개가 있어야 서비스에 접근할 수 있도록 한다. 만약 access토큰이 만료되었을때 인증된 refresh토큰을 가지고 있다면 access토큰을 재발급한다.


5. 로그인
1) 로그인 시 아이디와 비밀번호가 일치하면 해당 브라우저의 쿠키에 access토큰과 refresh토큰을 부여한다. access토큰의 만료기간은 1시간, refresh토큰의 만료기간은 7일로 지정한다.


6. 로그아웃
1) 로그아웃시 access토큰과 refresh토큰을 회수한다.


# 상품 관련 상세 기능 (현준)

1. 상품 리스트 조회 (메인)
1) 상품 정보를 클라이언트에게 제공한다. ( 상품명, 상품가격, 상품이미지, 상품 저자, 상품 출판사, 상품 재고 현황)
2) 장바구니 버튼 클릭하여, 선택한 상품을 장바구니에 담는다.
2-1) 로그인 한 user의 경우 , 바로 상품이 장바구니에 등록됩니다.
2-2) 로그인 하지 않은 user 경우, 로그인 form으로 이동하여 로그인 기능을 진행한다. 

3) 메인 상단의 메뉴바를 이용해서 페이지 이동이 가능하게 한다. + 카테고리 지정해서 분류 할 수 있게 한다.
4) 도서 검색기능을 추가한다. (책 조회 하는 거)

2.도서 상세정보
   =>   ( 상품명, 상품가격, 상품이미지, 상품 저자, 상품 출판사, 상품 재고 현황, 페이지 수 , 출간일 , 줄거리)
5-1) 장바구니 담고 confirm창이 뜸 (책을 주문할지 책을 더 구경할지), 주문하기 버튼 활성화
5-2) 상품수량 선택하기 

3. 장바구니 담긴상품 보여줌(가격, 상품명, 주문상품수량, 총금액)
1) 구매하기 DB에서 사용자 정보 불러오기 (사용자 이름, 주소, 전화번호)
2) 구매하기 눌렀으면 결제서가 뜨면서 "주문이 완료되었습니다 뜸" (예외 처리 - 트랜잭션 재고가 하나밖에 안남았을 떄 두 명이 동시에 구매하려할 때)

#상품 관리 기능(혜연)

1. Admin으로 접속하여 상품 등록/수정/삭제 처리 후 DB 등록   =>   ( 상품명, 상품가격, 상품이미지, 상품 저자, 상품 출판사, 상품 재고 현황, 페이지 수 , 출간일 , 줄거리)
2. 상품의 재고가 보여지는 페이지로 접근하여 재고현황을 확인하고, 관리하는 기능 

#문의 게시판 (민지)

1.공지사항 페이지 (TABLE)
1) ADMIN접속자만 공지사항 등록 , 수정, 삭제 가능하도록 하며, USER접속 시 READONLY로 설정

2. 자주 묻는 페이지 (TABLE) - filter
3.문의 게시판 (user/admin) : 제목 작성자 카테고리 게시글번호 내용 첨부파일 작성시간
3-1) 게시글 작성, 수정 시 제목과 내용은 공백 혹은 빈칸으로 작성하지 않도록 하기
3-2) 내가 작성한 글만 수정, 삭제 가능하게 하기
3-3) 로그인을 하지 않고 글 작성 버튼을 누른 경우 로그인 페이지로 이동
3-4) 게시판 게시글 중에 관련 키워드로 검색하여 검색될 수 있도록 함.
3-5) 게시글 댓글달기 (ADMIN)

#추천도서 페이지 (민지)

1. all, 카테고리, 추천도서, 게시판(navbar) 회원가입 로그인 장바구니 검색창은 가로로 크게(headerheader)